[package]
name = "blueprint-x402"
version = "0.1.0-alpha.1"
description = "x402 payment gateway for Blueprint SDK â€” cross-chain EVM settlement for job execution"
authors.workspace = true
edition.workspace = true
license.workspace = true
homepage.workspace = true
repository.workspace = true
rust-version.workspace = true

[lints]
workspace = true

[dependencies]
# Core Blueprint dependencies
blueprint-core = { workspace = true, features = ["tracing"] }
blueprint-router = { workspace = true }
blueprint-runner = { workspace = true }

# x402 protocol
x402-types = { version = "1", default-features = false }
x402-axum = { version = "1", default-features = false }
x402-chain-eip155 = { version = "1", default-features = false, features = ["server"] }

# HTTP server
axum = { workspace = true, features = ["tokio", "http1", "http2", "json"] }
tower = { workspace = true, features = ["util"] }
tower-http = { workspace = true, features = ["cors", "trace"] }
http = { workspace = true }

# Async runtime
tokio = { workspace = true, features = ["sync", "rt", "macros", "time"] }
futures = { workspace = true }
futures-core = { workspace = true }

# Serialization & config
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true, features = ["std"] }
toml = { workspace = true }

# Crypto & blockchain
alloy-primitives = { workspace = true }
rust_decimal = { workspace = true }

# Error handling & logging
thiserror = { workspace = true }
tracing = { workspace = true }

# Misc
dashmap = { workspace = true }
url = { workspace = true, features = ["serde"] }
bytes = { workspace = true }

[dev-dependencies]
tokio = { workspace = true, features = ["full"] }

[features]
default = ["std"]
std = ["blueprint-core/std", "blueprint-runner/std"]

[package.metadata.docs.rs]
rustdoc-args = ["--cfg", "docsrs"]
