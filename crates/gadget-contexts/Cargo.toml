[package]
name = "gadget-contexts"
version = "0.1.0"
authors.workspace = true
edition.workspace = true
license.workspace = true
homepage.workspace = true
repository.workspace = true

[dependencies]
# Gadget dependencies
gadget-config = { workspace = true }
gadget-clients = { workspace = true }
gadget-keystore = { workspace = true }

# Core dependencies
itertools = { workspace = true }
auto_impl = { workspace = true }
uuid = { workspace = true }
failure = { workspace = true }
lazy_static = { workspace = true }
num-bigint = { workspace = true }

# Cryptography and Security
elliptic-curve = { workspace = true, features = ["alloc", "sec1"] }
getrandom = { workspace = true, optional = true }
hex = { workspace = true, features = ["alloc"] }
rand = { workspace = true, features = ["alloc"] }

# Asynchronous and Concurrency
tokio = { workspace = true, optional = true }
tokio-stream = { workspace = true, features = ["io-util", "sync"] }
tokio-util = { workspace = true }
lock_api = { workspace = true }
parking_lot = { workspace = true, optional = true }

# CLI and Parsing
clap = { workspace = true, features = ["derive", "wrap_help"] }

# Docker
bollard = { workspace = true }

# Database
sqlx = { workspace = true, features = ["runtime-tokio-rustls", "sqlite"], optional = true }

# Operating System
nix = { workspace = true, optional = true }

# HTTP and Networking
url = { workspace = true, features = ["serde"] }
http-body-util = { workspace = true, optional = true }
hyper = { workspace = true, features = ["http1", "server"], optional = true }
hyper-util = { workspace = true, features = ["server"], optional = true }

# Keystore
ed25519-zebra = { workspace = true }
k256 = { workspace = true, features = ["ecdsa", "ecdsa-core", "arithmetic"] }
schnorrkel = { workspace = true }
w3f-bls = { workspace = true }
eigensdk = { workspace = true, features = ["full", "utils", "types"] }
ark-serialize = { workspace = true }
ark-ff = { workspace = true }
ark-ec = { workspace = true }
ark-bn254 = { workspace = true }

# Substrate and Blockchain
subxt-core = { workspace = true, features = ["substrate-compat"] }
sp-core = { workspace = true, features = ["full_crypto"] }
sp-io = { workspace = true }
scale-info = { workspace = true }
tangle-subxt = { workspace = true }

# Metrics
prometheus = { workspace = true }

# Logging and Errors
thiserror = { workspace = true }
color-eyre = { workspace = true }
log = { workspace = true }
tracing-subscriber = { workspace = true, features = ["env-filter", "ansi", "tracing-log"] }
tracing = { workspace = true, features = ["log"] }

# Networking and Serialization
async-trait = { workspace = true }
bincode = { workspace = true }
futures = { workspace = true }
round-based = { workspace = true, features = ["derive"] }
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true }

# Symbiotic
symbiotic-rs = { workspace = true, optional = true }

# Event Watchers and Handlers
backon = { workspace = true, optional = true }
subxt = { workspace = true, optional = true, features = ["substrate-compat"] }
subxt-signer = { workspace = true, features = ["sr25519"] }

# EVM Event Watchers and Handlers
alloy-contract = { workspace = true, optional = true }
alloy-network = { workspace = true, optional = true }
alloy-primitives = { workspace = true, optional = true }
alloy-json-abi = { workspace = true, features = ["serde_json"] }
alloy-provider = { workspace = true, optional = true }
alloy-rpc-types = { workspace = true, optional = true }
alloy-sol-types = { workspace = true, optional = true }
alloy-transport = { workspace = true, optional = true }
alloy-transport-http = { workspace = true, optional = true }
alloy-signer = { workspace = true, optional = true }
alloy-signer-local = { workspace = true, optional = true }

# Caching
lru-mem = { workspace = true }

# Benchmarking
sysinfo = { workspace = true }
dashmap = { workspace = true }

[features]
default = ["std", "tangle", "evm"]
std = []
tangle = []
evm = ["gadget-clients/evm"]
