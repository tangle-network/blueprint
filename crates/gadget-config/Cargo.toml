[package]
name = "gadget-config"
version = "0.1.0"
authors.workspace = true
edition.workspace = true
license.workspace = true

[dependencies]
# Core dependencies (always included)
clap = { workspace = true, features = ["derive", "env"], default-features = false }
gadget-std = { workspace = true }
lock_api = { workspace = true }
parking_lot = { workspace = true }
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true }
thiserror = { workspace = true }
tracing = { workspace = true }
url = { workspace = true }

# Optional dependencies (feature-gated)
gadget-keystore = { workspace = true, optional = true }
libp2p = { workspace = true, optional = true }
eigensdk = { workspace = true, optional = true }
alloy-primitives = { workspace = true, optional = true }
tangle-subxt = { workspace = true, optional = true }

[features]
default = ["std"]
std = []

# Core feature groups
keystore = ["dep:gadget-keystore"]
networking = ["dep:libp2p"]

# Protocol-specific features
tangle = ["keystore", "dep:tangle-subxt"]
eigenlayer = ["keystore", "dep:eigensdk", "dep:alloy-primitives"]
symbiotic = ["keystore", "dep:alloy-primitives"]

# Testing features
test-utils = ["std"]
