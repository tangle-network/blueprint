[package]
name = "gadget-sdk"
version = "0.1.0"
authors.workspace = true
edition.workspace = true
homepage.workspace = true
repository.workspace = true


[dependencies]
thiserror = { workspace = true }

# Keystore deps
k256 = { version = "0.13", default-features = false, features = ["arithmetic", "ecdsa", "precomputed-tables"], optional = true  }
ed25519-zebra = { version = "4", default-features = false, features = [], optional = true }
schnorrkel = { version = "0.11.4", features = ["preaudit_deprecated"], default-features = false, optional = true }
w3f-bls = { version = "0.1.3", default-features = false, optional = true }

# Metrics deps
hyper = { version = "0.14.16", default-features = false, features = ["http1", "server", "tcp"] }
log = { workspace = true, default-features = true }
prometheus = { version = "0.13.0", default-features = false }
tokio = { version = "1.22.0", features = ["parking_lot"] }

[dev-dependencies]
hyper = { version = "0.14.16", default-features = false, features = ["client"] }

[features]
default = ["full"]
full = [
  "keystore",
]

# Keystore features
keystore = [
  "keystore-ecdsa",
  "keystore-sr25519",
  "keystore-ed25519",
  "keystore-bls381",
]
keystore-ecdsa = ["k256"]
keystore-sr25519 = ["schnorrkel"]
keystore-ed25519 = ["ed25519-zebra"]
keystore-bls381 = ["w3f-bls"]
